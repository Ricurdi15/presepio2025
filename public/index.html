<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Presepio 2020 II - 2025</title>
    <!-- Google Fonts - Elegant Christmas Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Quicksand:wght@400;500;600&display=swap"
        rel="stylesheet">

   <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- 16-bit Stars Effect -->
    <div class="stars-container" id="starsContainer"></div>

    <!-- Snowfall Effect -->
    <div class="snowfall" id="snowfall"></div>

    <!-- Start Screen -->
    <div id="startScreen">
        <div class="star-decoration">‚≠ê</div>
        <img src="img/logo.png" alt="Presepio 2020 II" class="logo-image">
        <p class="subtitle">Un'avventura verso la Nativit√†</p>
        <div class="mission">
            üéÑ <strong>LA TUA MISSIONE</strong> üéÑ<br><br>
            Raggiungi <strong>6500 passi</strong><br>
            per arrivare al Presepio!
        </div>
        <button id="startButton">‚ú® INIZIA IL VIAGGIO ‚ú®</button>
    </div>

    <!-- Rotate Message -->
    <div id="rotateMessage">
        <div class="rotate-icon">üì±‚û°Ô∏è</div>
        <h2>Ruota il dispositivo</h2>
        <p>Il gioco funziona meglio in orizzontale</p>
    </div>

    <!-- Game Container -->
    <div id="gameContainer">
        <button id="exitFullscreen">‚úï Esci</button>
        <button id="leaderboardBtn" title="Classifica">üèÜ</button>

        <canvas id="gameCanvas" width="800" height="400"></canvas>

        <div id="scoreBoard">
            <div>Distanza: <span id="score">0</span></div>
            <div id="goalProgress">Meta: 6500</div>
            <div class="record-line">
                Record: <span id="highScoreValue">0</span>
            </div>
        </div>
    </div>

    <!-- Nativity Ending Screen - Desktop Optimized -->
    <div id="nativityEnding">
        <div class="nativity-container">
            <div class="nativity-header">
                <h2>üåü SEI ARRIVATO AL PRESEPIO! üåü</h2>
            </div>

            <div class="nativity-image-wrapper">
                <div class="image-glow"></div>
                <img src="img/presepio.png" alt="Presepio">
            </div>

            <div class="nativity-content">
                <div class="score-display">
                    <div class="label">Distanza percorsa</div>
                    <div class="value"><span id="nativityFinalScore">0</span></div>
                </div>

                <div class="save-section">
                    <input type="text" id="nativityNameInput" placeholder="Il tuo nome" maxlength="20">
                    <button id="nativitySubmitBtn">SALVA NELLA CLASSIFICA</button>
                </div>

                <button id="nativityRestartBtn">üîÑ RIGIOCA</button>
            </div>
        </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameOver">
        <h2>VIAGGIO INTERROTTO</h2>
        <p>Distanza: <span id="finalScore">0</span></p>
        <p class="goal-message" id="goalMessage"></p>
        <p id="newRecord" style="display: none;">
            ‚≠ê NUOVO RECORD! ‚≠ê
        </p>

        <div id="submitScoreSection">
            <input type="text" id="nameInput" placeholder="Il tuo nome" maxlength="20">
            <button id="submitScoreBtn" class="btn">SALVA CLASSIFICA</button>
        </div>

        <button id="restartBtn" class="btn">üîÑ RIPROVA VIAGGIO</button>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboardModal">
        <button id="closeLeaderboard">√ó</button>
        <h2>üèÜ CLASSIFICA RE MAGI</h2>
        <div id="loading">
            Caricamento...
        </div>
        <ul id="leaderboardList"></ul>
    </div>
</body>

<script src="controller.js"></script>
</html>